echo "Running tests before commit..."

cmake --build build --target tests

# If tests fail, exit with a non-zero status to prevent the commit
if [ $? -ne 0 ]; then
    echo "Tests failed. Commit aborted!"
    exit 1
fi

echo "All tests passed. Proceeding with commit."